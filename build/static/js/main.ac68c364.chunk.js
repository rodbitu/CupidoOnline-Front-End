(this["webpackJsonpcupido-online-client"]=this["webpackJsonpcupido-online-client"]||[]).push([[0],{167:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},179:function(e,t,n){},181:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(57),s=n.n(r),i=(n(167),n(11)),o=n.n(i),l=n(17),u=n(12),j=n(70),d=(n(169),n(20)),b=n(151),p=Object(a.createContext)(null);function h(){return Object(a.useContext)(p)}function O(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}n(170);var x=n(254),m=n(47),f=n.p+"static/media/cupido.f4f9a264.png",g=n(10),v=n(32),w=n(53),C=n(137),k=n(99),y=(n(179),n(4));function S(e){var t=e.isLoading,n=e.className,a=void 0===n?"":n,c=e.disabled,r=void 0!==c&&c,s=Object(w.a)(e,["isLoading","className","disabled"]);return Object(y.jsxs)(C.a,Object(v.a)(Object(v.a)({disabled:r||t,className:"LoaderButton ".concat(a)},s),{},{children:[t&&Object(y.jsx)(k.a,{className:"spinning"}),s.children]}))}var I={MAX_ATTACHMENT_SIZE:5e6,s3:{REGION:"us-east-1",BUCKET:"cupido-upload"},apiGateway:{REGION:"us-east-1",URL:"https://zc46dq1xyd.execute-api.us-east-1.amazonaws.com/prod"},cognito:{REGION:"us-east-1",USER_POOL_ID:"us-east-1_JVkW8ZoYV",APP_CLIENT_ID:"2g2gi9i3jii4dk0l33g9er8h96",IDENTITY_POOL_ID:"us-east-1:809884b8-6598-4222-a9c3-c157e36827d3"}};n(181);function N(){var e=Object(a.useRef)(null),t=Object(d.k)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),j=Object(u.a)(i,2),b=j[0],p=j[1],h=Object(a.useState)(""),m=Object(u.a)(h,2),f=m[0],v=m[1],w=Object(a.useState)(!1),C=Object(u.a)(w,2),k=C[0],N=C[1];function L(){return(L=Object(l.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!(e.current&&e.current.size>I.MAX_ATTACHMENT_SIZE)){n.next=4;break}return alert("Please pick a file smaller than ".concat(I.MAX_ATTACHMENT_SIZE/1e6," MB.")),n.abrupt("return");case 4:return N(!0),console.log(r,b,f),n.prev=6,n.next=9,P();case 9:alert("Mensagem enviada!"),t.push("/"),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(6),O(n.t0),alert("Mensagem n\xe3o enviada!"),N(!1);case 18:case"end":return n.stop()}}),n,null,[[6,13]])})))).apply(this,arguments)}function P(){return x.a.post("messages","/messages",{body:{name:b,email:r,content:f}})}return Object(y.jsx)("div",{className:"containerNM",children:Object(y.jsxs)(g.a,{onSubmit:function(e){return L.apply(this,arguments)},children:[Object(y.jsxs)(g.a.Group,{controlId:"email",children:[Object(y.jsx)(g.a.Label,{children:"Email"}),Object(y.jsx)(g.a.Control,{as:"input",onChange:function(e){return s(e.target.value)},placeholder:"Email de crush.."})]}),Object(y.jsxs)(g.a.Group,{controlId:"name",children:[Object(y.jsx)(g.a.Label,{children:"Nome"}),Object(y.jsx)(g.a.Control,{as:"input",onChange:function(e){return p(e.target.value)},placeholder:"Nome de seu crush.."})]}),Object(y.jsxs)(g.a.Group,{controlId:"content",children:[Object(y.jsx)("label",{htmlFor:"mensagem",children:"Mensagem"}),Object(y.jsx)("textarea",{as:"textarea",onChange:function(e){return v(e.target.value)},placeholder:"Mensagem rom\xe2ntica para seu crush.."})]}),Object(y.jsx)(S,{block:!0,size:"lg",type:"submit",isLoading:k,disabled:!(f.length>0),children:"Enviar"})]})})}function L(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=(t[0],t[1]),c=h().isAuthenticated,r=Object(a.useState)(!0),s=Object(u.a)(r,2),i=s[0],j=s[1];function d(){return x.a.get("messages","/messages")}return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,d();case 5:t=e.sent,n(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),O(e.t0);case 12:j(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(y.jsx)("div",{className:"Home",children:c?Object(y.jsxs)("div",{className:"messages",children:[Object(y.jsx)("h2",{className:"pb-3 mt-4 mb-3 border-bottom",children:"Crie uma mensagem para seu crush"}),Object(y.jsx)(b.a,{children:!i&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(N,{})})})]}):Object(y.jsxs)("div",{className:"lander",children:[Object(y.jsx)("img",{src:f}),Object(y.jsx)("h1",{children:"Cupido Online"}),Object(y.jsx)("p",{className:"text-muted",children:"O Cupido Online \xe9 um site para voc\xea ter uma conex\xe3o com seu par ideal!"}),Object(y.jsx)("p",{className:"text-muted",children:"Mostre seu carinho por algu\xe9m enviando um email a essa pessoa.."})]})})}n(231);function P(){return Object(y.jsx)("div",{className:"NotFound text-center",children:Object(y.jsx)("h3",{children:"Desculpe, p\xe1gina n\xe3o encontrada!"})})}var E=n(101),A=n(24),T=n(76);function z(e){var t=Object(a.useState)(e),n=Object(u.a)(t,2),c=n[0],r=n[1];return[c,function(e){r(Object(v.a)(Object(v.a)({},c),{},Object(T.a)({},e.target.id,e.target.value)))}]}n(232);function _(){var e=h().userHasAuthenticated,t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],s=z({email:"",password:""}),i=Object(u.a)(s,2),j=i[0],d=i[1];function b(){return(b=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r(!0),t.prev=2,t.next=5,E.a.signIn(j.email,j.password);case 5:e(!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),O(t.t0),r(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"containerNM",children:Object(y.jsx)("div",{className:"Login",children:Object(y.jsxs)(g.a,{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(y.jsxs)(g.a.Group,{size:"lg",controlId:"email",children:[Object(y.jsx)(g.a.Label,{children:"Email"}),Object(y.jsx)(g.a.Control,{autoFocus:!0,type:"email",value:j.email,onChange:d})]}),Object(y.jsxs)(g.a.Group,{size:"lg",controlId:"password",children:[Object(y.jsx)(g.a.Label,{children:"Senha"}),Object(y.jsx)(g.a.Control,{type:"password",value:j.password,onChange:d})]}),Object(y.jsx)(S,{block:!0,size:"lg",type:"submit",isLoading:c,disabled:!(j.email.length>0&&j.password.length>0),children:"Login"}),Object(y.jsx)(A.Link,{to:"/login/reset",children:"Esqueceu sua senha?"})]})})})}var D=n(144),M=n(152),G=n(145),R=n(146);n(233);function F(){var e=z({code:"",email:"",password:"",confirmPassword:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),i=s[0],j=s[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),p=b[0],h=b[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),f=m[0],v=m[1],w=Object(a.useState)(!1),C=Object(u.a)(w,2),k=C[0],I=C[1];function N(e){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),e.prev=2,e.next=5,E.a.forgotPassword(n.email);case 5:j(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),O(e.t0),I(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function P(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,E.a.forgotPasswordSubmit(n.email,n.code,n.password);case 5:h(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),O(e.t0),v(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"ResetPassword",children:i?p?Object(y.jsxs)("div",{className:"success",children:[Object(y.jsx)(R.a,{}),Object(y.jsx)("p",{children:"Sua senha foi resetada."}),Object(y.jsx)("p",{children:Object(y.jsx)(A.Link,{to:"/login",children:"Clique aqui para fazer login com suas novas credenciais."})})]}):Object(y.jsxs)("form",{onSubmit:P,children:[Object(y.jsxs)(D.a,{bsSize:"large",controlId:"code",children:[Object(y.jsx)(M.a,{children:"C\xf3digo de Confirma\xe7\xe3o"}),Object(y.jsx)(G.a,{autoFocus:!0,type:"tel",value:n.code,onChange:c}),Object(y.jsxs)(g.a.Text,{children:["Por Favor check seu Email (",n.email,") para confirma\xe7\xe3o do c\xf3digo."]})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)(D.a,{bsSize:"large",controlId:"password",children:[Object(y.jsx)(M.a,{children:"Nova Senha"}),Object(y.jsx)(G.a,{type:"password",value:n.password,onChange:c})]}),Object(y.jsxs)(D.a,{bsSize:"large",controlId:"confirmPassword",children:[Object(y.jsx)(M.a,{children:"Confirmar Senha"}),Object(y.jsx)(G.a,{type:"password",value:n.confirmPassword,onChange:c})]}),Object(y.jsx)(S,{block:!0,type:"submit",bsSize:"large",isLoading:f,disabled:!(n.code.length>0&&n.password.length>0&&n.password===n.confirmPassword),children:"Confirme"})]}):Object(y.jsxs)("form",{onSubmit:N,children:[Object(y.jsxs)(D.a,{bsSize:"large",controlId:"email",children:[Object(y.jsx)(M.a,{children:"Email"}),Object(y.jsx)(G.a,{autoFocus:!0,type:"email",value:n.email,onChange:c})]}),Object(y.jsx)(S,{block:!0,type:"submit",bsSize:"large",isLoading:k,disabled:!(n.email.length>0),children:"Enviar Confirma\xe7\xe3o"})]})})}function U(){Object(d.k)();var e=Object(a.useState)(!1),t=Object(u.a)(e,2);t[0],t[1];return Object(y.jsx)("div",{className:"Settings",children:Object(y.jsxs)("center",{children:[Object(y.jsx)(m.LinkContainer,{to:"/settings/password",children:Object(y.jsx)(S,{variant:"primary",children:"Mudar Senha"})}),Object(y.jsx)("hr",{})]})})}n(234);function B(){var e=Object(d.k)(),t=z({password:"",oldPassword:"",confirmPassword:""}),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(u.a)(s,2),j=i[0],b=i[1];function p(){return(p=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),b(!0),t.prev=2,t.next=5,E.a.currentAuthenticatedUser();case 5:return a=t.sent,t.next=8,E.a.changePassword(a,c.oldPassword,c.password);case 8:alert("Senha Alterada"),e.push("/"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),O(t.t0),b(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"ChangePassword",children:Object(y.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(y.jsxs)(D.a,{bsSize:"large",controlId:"oldPassword",children:[Object(y.jsx)(M.a,{children:"Senha antiga"}),Object(y.jsx)(G.a,{type:"password",onChange:r,value:c.oldPassword})]}),Object(y.jsx)("hr",{}),Object(y.jsxs)(D.a,{bsSize:"large",controlId:"password",children:[Object(y.jsx)(M.a,{children:"Nova senha"}),Object(y.jsx)(G.a,{type:"password",onChange:r,value:c.password})]}),Object(y.jsxs)(D.a,{bsSize:"large",controlId:"confirmPassword",children:[Object(y.jsx)(M.a,{children:"Confirmar senha"}),Object(y.jsx)(G.a,{type:"password",onChange:r,value:c.confirmPassword})]}),Object(y.jsx)(S,{block:!0,type:"submit",bsSize:"large",disabled:!(c.oldPassword.length>0&&c.password.length>0&&c.password===c.confirmPassword),isLoading:j,children:"Change Password"})]})})}n(235);function H(){var e=z({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(d.k)(),s=Object(a.useState)(null),i=Object(u.a)(s,2),j=i[0],b=i[1],p=h().userHasAuthenticated,x=Object(a.useState)(!1),m=Object(u.a)(x,2),f=m[0],v=m[1];function w(e){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,E.a.signUp({username:n.email,password:n.password});case 5:a=e.sent,v(!1),b(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),O(e.t0),v(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,E.a.confirmSignUp(n.email,n.confirmationCode);case 5:return e.next=7,E.a.signIn(n.email,n.password);case 7:p(!0),r.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),O(e.t0),v(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(y.jsx)("div",{className:"Signup",children:null===j?Object(y.jsx)("div",{className:"containerNM",children:Object(y.jsxs)(g.a,{onSubmit:w,children:[Object(y.jsxs)(g.a.Group,{controlId:"email",size:"lg",children:[Object(y.jsx)(g.a.Label,{children:"Email"}),Object(y.jsx)(g.a.Control,{autoFocus:!0,type:"email",value:n.email,onChange:c})]}),Object(y.jsxs)(g.a.Group,{controlId:"password",size:"lg",children:[Object(y.jsx)(g.a.Label,{children:"Senha"}),Object(y.jsx)(g.a.Control,{type:"password",value:n.password,onChange:c})]}),Object(y.jsxs)(g.a.Group,{controlId:"confirmPassword",size:"lg",children:[Object(y.jsx)(g.a.Label,{children:"Confirmar Senha"}),Object(y.jsx)(g.a.Control,{type:"password",onChange:c,value:n.confirmPassword})]}),Object(y.jsx)(S,{block:!0,size:"lg",type:"submit",isLoading:f,disabled:!(n.email.length>0&&n.password.length>0&&n.password===n.confirmPassword),children:"Registrar"})]})}):Object(y.jsxs)(g.a,{onSubmit:k,children:[Object(y.jsxs)(g.a.Group,{controlId:"confirmationCode",size:"lg",children:[Object(y.jsx)(g.a.Label,{children:"Confirmation Code"}),Object(y.jsx)(g.a.Control,{autoFocus:!0,type:"tel",onChange:c,value:n.confirmationCode}),Object(y.jsx)(g.a.Text,{muted:!0,children:"Please check your email for the code."})]}),Object(y.jsx)(S,{block:!0,size:"lg",type:"submit",variant:"success",isLoading:f,disabled:!(n.confirmationCode.length>0),children:"Verify"})]})})}var Z=n(253);n(236);function X(e){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Date.now(),"-").concat(t.name),e.next=3,Z.a.vault.put(n,t,{contentType:t.type});case 3:return a=e.sent,e.abrupt("return",a.key);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){var e=Object(a.useRef)(null),t=Object(d.m)().id,n=Object(d.k)(),c=Object(a.useState)(null),r=Object(u.a)(c,2),s=r[0],i=r[1],j=Object(a.useState)(""),b=Object(u.a)(j,2),p=b[0],h=b[1];function m(e){return x.a.put("messages","/messages/".concat(t),{body:e})}function f(){return(f=Object(l.a)(o.a.mark((function t(a){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(e.current&&e.current.size>I.MAX_ATTACHMENT_SIZE)){t.next=4;break}return alert("Please pick a file smaller than ".concat(I.MAX_ATTACHMENT_SIZE/1e6," MB.")),t.abrupt("return");case 4:if(P(!0),t.prev=5,!e.current){t.next=10;break}return t.next=9,X(e.current);case 9:c=t.sent;case 10:return t.next=12,m({content:p,attachment:c||s.attachment});case 12:n.push("/"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),O(t.t0),P(!1);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})))).apply(this,arguments)}function v(){return x.a.del("messages","/messages/".concat(t))}function w(){return(w=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),window.confirm("Are you sure you want to delete this message?")){e.next=4;break}return e.abrupt("return");case 4:return z(!0),e.prev=5,e.next=8,v();case 8:n.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),O(e.t0),z(!1);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return x.a.get("messages","/messages/".concat(t))}function n(){return(n=Object(l.a)(o.a.mark((function t(){var n,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:if(n=t.sent,a=n.content,!(c=n.attachment)){t.next=9;break}return t.next=8,Z.a.vault.get(c);case 8:n.attachmentURL=t.sent;case 9:h(a),i(n),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),O(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t]);var C,k=Object(a.useState)(!1),N=Object(u.a)(k,2),L=N[0],P=N[1],E=Object(a.useState)(!1),A=Object(u.a)(E,2),T=A[0],z=A[1];return Object(y.jsx)("div",{className:"Messages",children:s&&Object(y.jsxs)(g.a,{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(y.jsx)(g.a.Group,{controlId:"content",children:Object(y.jsx)(g.a.Control,{as:"textarea",value:p,onChange:function(e){return h(e.target.value)}})}),Object(y.jsxs)(g.a.Group,{controlId:"file",children:[Object(y.jsx)(g.a.Label,{children:"Attachment"}),s.attachment&&Object(y.jsx)("p",{children:Object(y.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:s.attachmentURL,children:(C=s.attachment,C.replace(/^\w+-/,""))})}),Object(y.jsx)(g.a.Control,{onChange:function(t){e.current=t.target.files[0]},type:"file"})]}),Object(y.jsx)(S,{block:!0,size:"lg",type:"submit",isLoading:L,disabled:!(p.length>0),children:"Save"}),Object(y.jsx)(S,{block:!0,size:"lg",variant:"danger",onClick:function(e){return w.apply(this,arguments)},isLoading:T,children:"Delete"})]})})}function J(e){var t=e.children,n=Object(w.a)(e,["children"]),a=Object(d.l)(),c=a.pathname,r=a.search,s=h().isAuthenticated;return Object(y.jsx)(d.d,Object(v.a)(Object(v.a)({},n),{},{children:s?t:Object(y.jsx)(d.c,{to:"/login?redirect=".concat(c).concat(r)})}))}function K(e){var t=e.children,n=Object(w.a)(e,["children"]),a=h().isAuthenticated,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("redirect");return Object(y.jsx)(d.d,Object(v.a)(Object(v.a)({},n),{},{children:a?Object(y.jsx)(d.c,{to:""===c||null===c?"/":c}):t}))}function V(){return Object(y.jsxs)(d.g,{children:[Object(y.jsx)(d.d,{exact:!0,path:"/",children:Object(y.jsx)(L,{})}),Object(y.jsx)(K,{exact:!0,path:"/login",children:Object(y.jsx)(_,{})}),Object(y.jsx)(K,{exact:!0,path:"/login/reset",children:Object(y.jsx)(F,{})}),Object(y.jsx)(d.d,{exact:!0,path:"/settings",children:Object(y.jsx)(U,{})}),Object(y.jsx)(J,{exact:!0,path:"/settings/password",children:Object(y.jsx)(B,{})}),Object(y.jsx)(K,{exact:!0,path:"/register",children:Object(y.jsx)(H,{})}),Object(y.jsx)(J,{exact:!0,path:"/messages/new",children:Object(y.jsx)(N,{})}),Object(y.jsx)(J,{exact:!0,path:"/messages/:id",children:Object(y.jsx)(Y,{})}),Object(y.jsx)(d.d,{children:Object(y.jsx)(P,{})})]})}var W=n(64);var $=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),i=s[0],b=s[1];function h(){return(h=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.signOut();case 2:b(!1),f.push("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.currentSession();case 3:b(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&O(e.t0);case 9:c(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);var f=Object(d.k)();return!n&&Object(y.jsxs)("div",{className:"App container py-3",children:[Object(y.jsxs)(j.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:[Object(y.jsx)(m.LinkContainer,{to:"/",children:Object(y.jsx)(j.a.Brand,{className:"font-weight-bold text-muted",children:"Cupido Online"})}),Object(y.jsx)(j.a.Toggle,{}),Object(y.jsx)(j.a.Collapse,{className:"justify-content-end",children:Object(y.jsx)(W.a,{activeKey:window.location.pathname,children:i?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(m.LinkContainer,{to:"/settings",children:Object(y.jsx)(W.a.Link,{children:"Configura\xe7\xf5es"})}),Object(y.jsx)(W.a.Link,{onClick:function(){return h.apply(this,arguments)},children:"Sair"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(m.LinkContainer,{to:"/register",children:Object(y.jsx)(W.a.Link,{children:"Registrar-se"})}),Object(y.jsx)(m.LinkContainer,{to:"/login",children:Object(y.jsx)(W.a.Link,{children:"Login"})})]})})})]}),Object(y.jsx)(p.Provider,{value:{isAuthenticated:i,userHasAuthenticated:b},children:Object(y.jsx)(V,{})})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(37).a.configure({Auth:{mandatorySignIn:!0,region:I.cognito.REGION,userPoolId:I.cognito.USER_POOL_ID,identityPoolId:I.cognito.IDENTITY_POOL_ID,userPoolWebClientId:I.cognito.APP_CLIENT_ID},Storage:{region:I.s3.REGION,bucket:I.s3.BUCKET,identityPoolId:I.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"messages",endpoint:I.apiGateway.URL,region:I.apiGateway.REGION}]}}),s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(A.BrowserRouter,{children:Object(y.jsx)($,{})})}),document.getElementById("root")),Q()}},[[244,1,2]]]);
//# sourceMappingURL=main.ac68c364.chunk.js.map